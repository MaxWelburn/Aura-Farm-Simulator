[gd_scene load_steps=18 format=3 uid="uid://dkqh3nn33r0sh"]

[ext_resource type="Script" uid="uid://d1xergo2gfk6j" path="res://src/game.gd" id="1_uwrxv"]
[ext_resource type="PackedScene" uid="uid://csbta1brs4t15" path="res://scenes/environment/world.tscn" id="1_yqjtg"]
[ext_resource type="Texture2D" uid="uid://ndkkf25hp1t8" path="res://Art/15507193-flower-field-shot-from-above.jpg" id="2_0tnpc"]
[ext_resource type="Texture2D" uid="uid://7q51iltheikm" path="res://assets/flowers.jpg" id="2_kvuet"]
[ext_resource type="Script" uid="uid://daiqv4iuyfbtb" path="res://src/entities/orb.gd" id="2_lnu2h"]
[ext_resource type="PackedScene" uid="uid://d3ijr8orr02vw" path="res://scenes/entities/greyscale_color_filter.tscn" id="3_dinhu"]
[ext_resource type="PackedScene" uid="uid://b72855wnkr4bs" path="res://scenes/entities/color_source.tscn" id="4_kvpfn"]
[ext_resource type="PackedScene" uid="uid://cx0b6y8nw56it" path="res://scenes/entities/player.tscn" id="4_lbhrr"]
[ext_resource type="Script" uid="uid://d33d1dmtw0t7l" path="res://src/entities/spawner.gd" id="5_iywne"]
[ext_resource type="PackedScene" uid="uid://d4lm2a4yy6nx4" path="res://scenes/entities/orb.tscn" id="6_p57ef"]
[ext_resource type="PackedScene" uid="uid://bb6kwesuaimep" path="res://scenes/entities/crystal.tscn" id="7_u5sy4"]
[ext_resource type="Shader" uid="uid://b6uyc7sb67eo8" path="res://Art/Shaders & Materials/ColorScalingRecolor.gdshader" id="8_kvuet"]
[ext_resource type="Script" path="res://src/entities/crystals.gd" id="9_kvuet"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_trtic"]
resource_local_to_scene = true
shader = ExtResource("8_kvuet")
shader_parameter/brightness = 1.0
shader_parameter/contrast = 1.0
shader_parameter/saturation = 1.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ir15t"]
resource_local_to_scene = true
shader = ExtResource("8_kvuet")
shader_parameter/brightness = 1.0
shader_parameter/contrast = 1.0
shader_parameter/saturation = 1.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ca42v"]
resource_local_to_scene = true
shader = ExtResource("8_kvuet")
shader_parameter/brightness = 1.0
shader_parameter/contrast = 1.0
shader_parameter/saturation = 1.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_rysoc"]
resource_local_to_scene = true
shader = ExtResource("8_kvuet")
shader_parameter/brightness = 1.0
shader_parameter/contrast = 1.0
shader_parameter/saturation = 1.0

[node name="Game" type="Node2D"]
script = ExtResource("1_uwrxv")

[node name="Sprite2D" type="Sprite2D" parent="."]
scale = Vector2(8, 8)
texture = ExtResource("2_kvuet")

[node name="World" parent="." instance=ExtResource("1_yqjtg")]
visible = false
script = ExtResource("2_lnu2h")

[node name="Background" type="Sprite2D" parent="."]
visible = false
scale = Vector2(1.477, 1.477)
texture = ExtResource("2_0tnpc")
centered = false
region_rect = Rect2(0, 0, 1920, 1080)
region_filter_clip_enabled = true

[node name="GreyscaleColorFilter" parent="." instance=ExtResource("3_dinhu")]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -3999.0
offset_top = -4048.0
offset_right = 4193.0
offset_bottom = 4144.0
grow_horizontal = 2
grow_vertical = 2

[node name="ColorSources" type="Node2D" parent="."]

[node name="ColorSource" parent="ColorSources" instance=ExtResource("4_kvpfn")]
material = SubResource("ShaderMaterial_trtic")
position = Vector2(-1127, -706)

[node name="ColorSource2" parent="ColorSources" instance=ExtResource("4_kvpfn")]
material = SubResource("ShaderMaterial_ir15t")
position = Vector2(1321, -616)

[node name="ColorSource3" parent="ColorSources" instance=ExtResource("4_kvpfn")]
material = SubResource("ShaderMaterial_ca42v")
position = Vector2(-1219, 706)

[node name="ColorSource4" parent="ColorSources" instance=ExtResource("4_kvpfn")]
material = SubResource("ShaderMaterial_rysoc")
position = Vector2(1139, 613)

[node name="Player" parent="." node_paths=PackedStringArray("camera") instance=ExtResource("4_lbhrr")]
position = Vector2(-42, -20)
scale = Vector2(0.25, 0.25)
default_move_dist = 100.0
default_max_speed = 3500.0
magnitude_threshold = 100.0
max_camera_offset = 200.0
camera = NodePath("../Camera")

[node name="Camera" type="Camera2D" parent="."]

[node name="Crystals" type="Node2D" parent="."]
script = ExtResource("9_kvuet")

[node name="Crystal" parent="Crystals" node_paths=PackedStringArray("connected_color_source") instance=ExtResource("7_u5sy4")]
position = Vector2(-1127, -706)
connected_color_source = NodePath("../../ColorSources/ColorSource")

[node name="ColorsReq" type="Label" parent="Crystals/Crystal"]
offset_left = -36.0
offset_top = -160.0
offset_right = 28.0
offset_bottom = -137.0
text = "1       1    "

[node name="Req1" parent="Crystals/Crystal/ColorsReq" instance=ExtResource("6_p57ef")]
unique_name_in_owner = true
position = Vector2(62, 11)
scale = Vector2(0.40000004, 0.40000004)
collision_layer = 0

[node name="Req2" parent="Crystals/Crystal/ColorsReq" instance=ExtResource("6_p57ef")]
unique_name_in_owner = true
position = Vector2(24, 12)
scale = Vector2(0.40000004, 0.40000004)
collision_layer = 0

[node name="Crystal2" parent="Crystals" node_paths=PackedStringArray("connected_color_source") instance=ExtResource("7_u5sy4")]
position = Vector2(1321, -616)
connected_color_source = NodePath("../../ColorSources/ColorSource2")

[node name="ColorsReq" type="Label" parent="Crystals/Crystal2"]
offset_left = -36.0
offset_top = -160.0
offset_right = 28.0
offset_bottom = -137.0
text = "1       1    "

[node name="Req1_2" parent="Crystals/Crystal2/ColorsReq" instance=ExtResource("6_p57ef")]
unique_name_in_owner = true
position = Vector2(62, 11)
scale = Vector2(0.40000004, 0.40000004)
collision_layer = 0

[node name="Req2_2" parent="Crystals/Crystal2/ColorsReq" instance=ExtResource("6_p57ef")]
unique_name_in_owner = true
position = Vector2(24, 12)
scale = Vector2(0.40000004, 0.40000004)
collision_layer = 0

[node name="Crystal3" parent="Crystals" node_paths=PackedStringArray("connected_color_source") instance=ExtResource("7_u5sy4")]
position = Vector2(-1219, 706)
connected_color_source = NodePath("../../ColorSources/ColorSource3")

[node name="ColorsReq" type="Label" parent="Crystals/Crystal3"]
offset_left = -36.0
offset_top = -160.0
offset_right = 28.0
offset_bottom = -137.0
text = "1       1    "

[node name="Req1_3" parent="Crystals/Crystal3/ColorsReq" instance=ExtResource("6_p57ef")]
unique_name_in_owner = true
position = Vector2(62, 11)
scale = Vector2(0.40000004, 0.40000004)
collision_layer = 0

[node name="Req2_3" parent="Crystals/Crystal3/ColorsReq" instance=ExtResource("6_p57ef")]
unique_name_in_owner = true
position = Vector2(24, 12)
scale = Vector2(0.40000004, 0.40000004)
collision_layer = 0

[node name="Crystal4" parent="Crystals" node_paths=PackedStringArray("connected_color_source") instance=ExtResource("7_u5sy4")]
position = Vector2(1139, 613)
connected_color_source = NodePath("../../ColorSources/ColorSource4")

[node name="ColorsReq" type="Label" parent="Crystals/Crystal4"]
offset_left = -36.0
offset_top = -160.0
offset_right = 28.0
offset_bottom = -137.0
text = "1       1    "

[node name="Req1_4" parent="Crystals/Crystal4/ColorsReq" instance=ExtResource("6_p57ef")]
unique_name_in_owner = true
position = Vector2(62, 11)
scale = Vector2(0.40000004, 0.40000004)
collision_layer = 0

[node name="Req2_4" parent="Crystals/Crystal4/ColorsReq" instance=ExtResource("6_p57ef")]
unique_name_in_owner = true
position = Vector2(24, 12)
scale = Vector2(0.40000004, 0.40000004)
collision_layer = 0

[node name="Spawner" type="Node2D" parent="." node_paths=PackedStringArray("player")]
script = ExtResource("5_iywne")
orb_scene = ExtResource("6_p57ef")
player = NodePath("../Player")
max_orbs = 75
min_orb_separation = 200.0
spawn_radius = 2500.0
max_spawn_attempts = 15
